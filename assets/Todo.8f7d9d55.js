import{b as v,a as n,h as T,e as S,a4 as b,a5 as w,r as f,al as I,am as i,a7 as r,a8 as c,a9 as l,ab as y,aa as s,ac as _,an as q,ao as N,ap as k,aq as C,ar as Q,af as O,as as h,at as V,au as x,ae as B,ai as J,av as D,aw as $,ah as L,ag as U,ax as A}from"./index.40e5991a.js";import{Q as E,a as K,b as u}from"./QList.c1d895f1.js";import{Q as M}from"./QPage.7f402c9e.js";var z=v({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:a}){const t=n(()=>parseInt(e.lines,10)),p=n(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(t.value===1?" ellipsis":"")),m=n(()=>e.lines!==void 0&&t.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":t.value}:null);return()=>T("div",{style:m.value,class:p.value},S(a.default))}});const F=w({name:"Todo",setup(){return{newTask:f(""),tasks:f([])}},methods:{markTask(e){this.markTodoAsDOne(e)},addTask(){if(this.newTask!==""){const e={id:Math.floor(Math.random()*100)*Date.now(),title:this.newTask,done:!1};this.addTodos(e),this.getTodos(),this.newTask=""}},deleteTask(e){I.create({title:"Confirm",message:"Are you sure you want to delete task?",cancel:!0,persistent:!0}).onOk(()=>{this.deleteTodos(e)})},getTodos(){localStorage.getItem("quasar_todos")&&typeof Storage!==void 0?this.tasks=JSON.parse(localStorage.getItem("quasar_todos")||"[]"):this.tasks=[]},markTodoAsDOne(e){if(localStorage.getItem("quasar_todos")&&typeof Storage!==void 0){let a=JSON.parse(localStorage.getItem("quasar_todos")||"[]");a.forEach(t=>{t.id===e&&(t.done=!t.done)}),localStorage.setItem("quasar_todos",JSON.stringify(a)),this.getTodos()}else i.create({type:"negative",message:"Error! Unable to mark task as done",group:!1})},addTodos(e){if(localStorage.getItem("quasar_todos")&&typeof Storage!==void 0){let a=JSON.parse(localStorage.getItem("quasar_todos")||"[]");a.push(e),localStorage.setItem("quasar_todos",JSON.stringify(a))}else if(typeof Storage!==void 0){let a=[];a.push(e),localStorage.setItem("quasar_todos",JSON.stringify(a))}else i.create({type:"negative",message:"Error! Unable to add task",group:!1})},deleteTodos(e){let a=JSON.parse(localStorage.getItem("quasar_todos")||"[]");a=a.filter(t=>t.id!==e),localStorage.setItem("quasar_todos",JSON.stringify(a)),i.create({type:"positive",message:"Task successfully deleted",group:!1}),this.getTodos()}},mounted(){this.getTodos()}}),P=e=>(V("data-v-7c647d60"),e=e(),x(),e),R={class:"row q-pa-sm q-py-md input-section"},j={key:0,class:"no-tasks text-center q-mt-xl"},G=P(()=>y("div",{class:"text-h5 text-center text-primary"},"No Tasks...",-1));function H(e,a,t,p,m,W){return r(),c(M,{class:"bg-grey-3 column"},{default:l(()=>{var g;return[y("div",R,[s(N,{filled:"",modelValue:e.newTask,"onUpdate:modelValue":a[0]||(a[0]=o=>e.newTask=o),placeholder:"Add task","bg-color":"white",class:"col",dense:"",onKeyup:q(e.addTask,["enter"])},{append:l(()=>[s(_,{round:"",dense:"",flat:"",icon:"add",onClick:e.addTask},null,8,["onClick"])]),_:1},8,["modelValue","onKeyup"])]),s(E,{class:"q-pa-sm tasks-section",separator:""},{default:l(()=>[(r(!0),k(Q,null,C(e.tasks,o=>B((r(),c(K,{key:o.id,clickable:"",onClick:d=>e.markTask(o.id),class:D(["bg-white",{"done bg-blue-1":o.done}])},{default:l(()=>[s(u,{avatar:""},{default:l(()=>[s($,{modelValue:o.done,"onUpdate:modelValue":d=>o.done=d,class:"no-pointer-events",color:"primary"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024),s(u,null,{default:l(()=>[s(z,null,{default:l(()=>[L(U(o.title),1)]),_:2},1024)]),_:2},1024),o.done?(r(),c(u,{key:0,side:""},{default:l(()=>[s(_,{flat:"",round:"",color:"primary",onClick:A(d=>e.deleteTask(o.id),["stop"]),dense:"",icon:"delete"},null,8,["onClick"])]),_:2},1024)):h("",!0)]),_:2},1032,["onClick","class"])),[[J]])),128))]),_:1}),((g=e.tasks)==null?void 0:g.length)===0?(r(),k("div",j,[s(O,{name:"check",size:"100px",color:"primary"}),G])):h("",!0)]}),_:1})}var ee=b(F,[["render",H],["__scopeId","data-v-7c647d60"]]);export{ee as default};
